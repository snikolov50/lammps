LAMMPS (21 Jul 2020)
echo    both
#package gpu 1

#------------- USER Variables ----------------
variable        filename   string    block_28_14_14
variable        heatflux   equal    20.0
variable        dump_freq  equal  100

# boltzmann constant in appropriate units
variable        boltz_real     equal 0.0019872041
variable        boltz_metal    equal 8.617342e-5
variable        boltz          equal ${boltz_metal}
variable        boltz          equal 8.617342e-05

variable        lattice_const  equal 3.57772
variable        starttemp    equal 300

variable xmax equal 25.0
variable xmin equal -25.0
variable ymax equal 12.5
variable ymin equal -12.5
variable zmax equal 12.5
variable zmin equal -12.5
#----------------------------------------------
##########################################
units           metal
atom_style      atomic

boundary        p p p

#read_restart    config5
lattice         fcc ${lattice_const}
lattice         fcc 3.57772
Lattice spacing in x,y,z = 3.5777200 3.5777200 3.5777200
region sim_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} # units for region are lattice (default)
region sim_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 12.5 
create_box 1 sim_box
Created orthogonal box = (-89.443000 -44.721500 -44.721500) to (89.443000 44.721500 44.721500)
  1 by 1 by 1 MPI processor grid
#region atom_box block -24 -20 -12 -10 -12 -10
region atom_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 12.5
create_atoms 1 region atom_box
Created 125000 atoms
  create_atoms CPU = 0.022 seconds

mass	        1 55.845
variable        mid_val        equal    xhi/2.0

# APT: these commands seem to be mixing lattice and box units
variable        low_val        equal    ${mid_val}-4*${lattice_const}
variable        low_val        equal    44.7215-4*${lattice_const}
variable        low_val        equal    44.7215-4*3.57772
variable        high_val       equal    ${mid_val}+4*${lattice_const}
variable        high_val       equal    44.7215+4*${lattice_const}
variable        high_val       equal    44.7215+4*3.57772

# APT: This is just another way of saying max_val = xhi
variable        max_val        equal    ${high_val}+${low_val}
variable        max_val        equal    59.03238+${low_val}
variable        max_val        equal    59.03238+30.41062

include pot_iron.mod
pair_style eam/fs
pair_coeff * * FeVoter-ChenRecheck.fs Fe

#pair_style      eam/alloy
#pair_coeff      * * FeNiCr_Bonny_2013_ptDef.eam.alloy Fe Cr Ni

set             atom * type 1
  125000 settings made for type
neighbor        2.0 bin
neigh_modify    every 5 delay 0 check yes
#group		myg type 1
#variable        st equal ${starttemp}*1.5
#velocity        all create ${st} 87287 mom yes loop geom

#fix             thermostat all npt temp ${starttemp} ${starttemp} 10.0 iso 0.0 0.0 1000.0
#fix             thermostat all langevin ${starttemp} ${starttemp} 0.1 618341
fix             1 all nve
#fix		rig myg rigid/nve group 1 myg langevin 500 500 0.005 1041
#velocity        all set 5 NULL NULL sum yes units box

######################################################################
#region          lhs block -${high_val} -${low_val} EDGE EDGE EDGE EDGE units box
#region          rhs block  ${low_val} ${high_val} EDGE EDGE EDGE EDGE units box
#group           lhs_group dynamic all region lhs every 1
#group           rhs_group dynamic all region rhs every 1
#fix		hot all langevin 500 500 0.005 1041
#fix		cold rhs_group langevin 100 100 0.01 1041
#fix             qin lhs_group heat 1 ${heatflux}
#fix             qout rhs_group heat 1 -${heatflux}

###########################################################################
#compute 	mytemp all temp/com
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te lang flang conv no 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 ${filename}.Te lang flang conv no 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 block_28_14_14.Te lang flang conv no 50
fix      	flang all langevin 0.0 0.0 1.88735 1041 ttm
fix_modify	flang energy yes
#fix_modify      flang temp mytemp
###########################################################################

# output
compute         pe all pe/atom
compute         ke all ke/atom
variable        temp atom c_ke/1.5/v_boltz

dump            1z1 all custom ${dump_freq} ${filename}.dumpovito id type x y z c_ke c_pe
dump            1z1 all custom 100 ${filename}.dumpovito id type x y z c_ke c_pe
dump            1z1 all custom 100 block_28_14_14.dumpovito id type x y z c_ke c_pe

compute         temp_chunk all chunk/atom bin/1d x lower 1.0
fix             4 all ave/chunk 1 ${dump_freq} ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file block_28_14_14.tmpProfile

# run
timestep        0.001
thermo_style 	custom time step temp lx ly lz press pxx pyy pzz etotal epair enthalpy vol density f_melt[1] f_melt[2] f_flang
thermo          10
run             100
Neighbor list info ...
  update every 5 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.524
  ghost atom cutoff = 6.524
  binsize = 3.262, bins = 55 28 28
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 83.37 | 83.37 | 83.37 Mbytes
Time Step Temp Lx Ly Lz Press Pxx Pyy Pzz TotEng E_pair Enthalpy Volume Density f_melt[1] f_melt[2] f_flang 
           0        0            0      178.886       89.443       89.443    27436.839    27436.839    27436.839    27436.839   -532207.31   -532207.31   -507700.16      1431097    8.1005253    2814.3722            0           -0 
        0.01       10     16.04401      178.886       89.443       89.443    27696.562     27697.03    27697.066    27695.589   -532214.28   -532195.21   -507475.14      1431097    8.1005253     2522.407    27.330872   -278.29977 
        0.02       20    27.357188      178.886       89.443       89.443    28250.411    28250.676    28251.517    28249.041   -532213.53    -532117.5   -506979.68      1431097    8.1005253    2263.8336    24.966827   -538.05521 
        0.03       30    32.145038      178.886       89.443       89.443    29160.624    29159.272    29160.183    29162.418    -532212.8    -531962.5   -506165.93      1431097    8.1005253    2033.5286    22.338619    -769.6743 
        0.04       40    33.697877      178.886       89.443       89.443    30251.459    30246.125    30251.256    30256.997   -532212.16   -531777.76   -505190.94      1431097    8.1005253    1825.4445    20.105335   -978.87501 
        0.05       50     35.59138      178.886       89.443       89.443    31274.856    31267.987    31272.665    31283.916   -532211.59   -531621.52   -504276.25      1431097    8.1005253    1640.6004    17.265699    -1165.139 
        0.06       60    39.324075      178.886       89.443       89.443    32110.321    32101.663    32105.374    32123.926   -532211.12   -531515.44   -503529.53      1431097    8.1005253    1475.4665    15.692013   -1331.0597 
        0.07       70    43.716397      178.886       89.443       89.443    32806.846    32794.864    32803.745    32821.928    -532210.7   -531437.15   -502906.95      1431097    8.1005253    1327.3586    14.230406   -1479.8984 
        0.08       80    46.975224      178.886       89.443       89.443    33443.935    33435.237    33442.368    33454.199   -532210.33   -531358.94   -502337.52      1431097    8.1005253    1197.8944    12.189534    -1610.383 
        0.09       90      49.3898      178.886       89.443       89.443    34024.588    34016.811    34025.532     34031.42   -532209.96    -531279.5    -501818.5      1431097    8.1005253    1080.0483    11.698327   -1728.4748 
         0.1      100      52.2802      178.886       89.443       89.443     34475.38    34468.791    34476.521    34480.827   -532209.64   -531219.88   -501415.52      1431097    8.1005253    974.98406    9.8333287   -1834.4715 
Loop time of 25.3216 on 1 procs for 100 steps with 125000 atoms

Performance: 0.341 ns/day, 70.338 hours/ns, 3.949 timesteps/s
99.3% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.09      | 23.09      | 23.09      |   0.0 | 91.19
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.070211   | 0.070211   | 0.070211   |   0.0 |  0.28
Output  | 0.29416    | 0.29416    | 0.29416    |   0.0 |  1.16
Modify  | 1.8299     | 1.8299     | 1.8299     |   0.0 |  7.23
Other   |            | 0.037      |            |       |  0.15

Nlocal:       125000.0 ave      125000 max      125000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        48821.0 ave       48821 max       48821 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    5.37500e+06 ave   5.375e+06 max   5.375e+06 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5375000
Ave neighs/atom = 43.000000
Neighbor list builds = 0
Dangerous builds = 0
#velocity        all set 5 NULL NULL sum yes units box
#run 5000

#write_data      ${filename}_${starttemp}.lammps
write_restart     ${filename}_${starttemp}.restart
write_restart     block_28_14_14_${starttemp}.restart
write_restart     block_28_14_14_300.restart
write_restart   config${filename}
write_restart   configblock_28_14_14
Total wall time: 0:00:26
