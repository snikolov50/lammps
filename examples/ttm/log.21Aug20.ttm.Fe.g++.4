LAMMPS (21 Jul 2020)
echo    both
#package gpu 1

#------------- USER Variables ----------------
variable        filename   string    block_28_14_14
variable        heatflux   equal    20.0
variable        dump_freq  equal  100

# boltzmann constant in appropriate units
variable        boltz_real     equal 0.0019872041
variable        boltz_metal    equal 8.617342e-5
variable        boltz          equal ${boltz_metal}
variable        boltz          equal 8.617342e-05

variable        lattice_const  equal 3.57772
variable        starttemp    equal 300

variable xmax equal 25.0
variable xmin equal -25.0
variable ymax equal 12.5
variable ymin equal -12.5
variable zmax equal 12.5
variable zmin equal -12.5
#----------------------------------------------
##########################################
units           metal
atom_style      atomic

boundary        p p p

#read_restart    config5
lattice         fcc ${lattice_const}
lattice         fcc 3.57772
Lattice spacing in x,y,z = 3.5777200 3.5777200 3.5777200
region sim_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} # units for region are lattice (default)
region sim_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 ${zmin} ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 ${zmax} 
region sim_box block -25 25 -12.5 12.5 -12.5 12.5 
create_box 1 sim_box
Created orthogonal box = (-89.443000 -44.721500 -44.721500) to (89.443000 44.721500 44.721500)
  2 by 1 by 2 MPI processor grid
#region atom_box block -24 -20 -12 -10 -12 -10
region atom_box block ${xmin} ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 ${xmax} ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 ${ymin} ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 ${ymax} ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 ${zmin} ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 ${zmax}
region atom_box block -25 25 -12.5 12.5 -12.5 12.5
create_atoms 1 region atom_box
Created 125000 atoms
  create_atoms CPU = 0.007 seconds

mass	        1 55.845
variable        mid_val        equal    xhi/2.0

# APT: these commands seem to be mixing lattice and box units
variable        low_val        equal    ${mid_val}-4*${lattice_const}
variable        low_val        equal    44.7215-4*${lattice_const}
variable        low_val        equal    44.7215-4*3.57772
variable        high_val       equal    ${mid_val}+4*${lattice_const}
variable        high_val       equal    44.7215+4*${lattice_const}
variable        high_val       equal    44.7215+4*3.57772

# APT: This is just another way of saying max_val = xhi
variable        max_val        equal    ${high_val}+${low_val}
variable        max_val        equal    59.03238+${low_val}
variable        max_val        equal    59.03238+30.41062

include pot_iron.mod
pair_style eam/fs
pair_coeff * * FeVoter-ChenRecheck.fs Fe

#pair_style      eam/alloy
#pair_coeff      * * FeNiCr_Bonny_2013_ptDef.eam.alloy Fe Cr Ni

set             atom * type 1
  125000 settings made for type
neighbor        2.0 bin
neigh_modify    every 5 delay 0 check yes
#group		myg type 1
#variable        st equal ${starttemp}*1.5
#velocity        all create ${st} 87287 mom yes loop geom

#fix             thermostat all npt temp ${starttemp} ${starttemp} 10.0 iso 0.0 0.0 1000.0
#fix             thermostat all langevin ${starttemp} ${starttemp} 0.1 618341
fix             1 all nve
#fix		rig myg rigid/nve group 1 myg langevin 500 500 0.005 1041
#velocity        all set 5 NULL NULL sum yes units box

######################################################################
#region          lhs block -${high_val} -${low_val} EDGE EDGE EDGE EDGE units box
#region          rhs block  ${low_val} ${high_val} EDGE EDGE EDGE EDGE units box
#group           lhs_group dynamic all region lhs every 1
#group           rhs_group dynamic all region rhs every 1
#fix		hot all langevin 500 500 0.005 1041
#fix		cold rhs_group langevin 100 100 0.01 1041
#fix             qin lhs_group heat 1 ${heatflux}
#fix             qout rhs_group heat 1 -${heatflux}

###########################################################################
#compute 	mytemp all temp/com
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 ${dump_freq} ${filename}.Te lang flang conv no 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 ${filename}.Te lang flang conv no 50
fix             melt all ttm 1.2470e-5 0.087614 0.00536462 29.5917 47.5679 58.4613 28 14 14 temp_1800_nx_28_ny_14_nz_14 100 block_28_14_14.Te lang flang conv no 50
fix      	flang all langevin 0.0 0.0 1.88735 1041 ttm
fix_modify	flang energy yes
#fix_modify      flang temp mytemp
###########################################################################

# output
compute         pe all pe/atom
compute         ke all ke/atom
variable        temp atom c_ke/1.5/v_boltz

dump            1z1 all custom ${dump_freq} ${filename}.dumpovito id type x y z c_ke c_pe
dump            1z1 all custom 100 ${filename}.dumpovito id type x y z c_ke c_pe
dump            1z1 all custom 100 block_28_14_14.dumpovito id type x y z c_ke c_pe

compute         temp_chunk all chunk/atom bin/1d x lower 1.0
fix             4 all ave/chunk 1 ${dump_freq} ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 ${dump_freq} temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file ${filename}.tmpProfile
fix             4 all ave/chunk 1 100 100 temp_chunk v_temp file block_28_14_14.tmpProfile

# run
timestep        0.001
thermo_style 	custom time step temp lx ly lz press pxx pyy pzz etotal epair enthalpy vol density f_melt[1] f_melt[2] f_flang
thermo          10
run             100
Neighbor list info ...
  update every 5 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6.524
  ghost atom cutoff = 6.524
  binsize = 3.262, bins = 55 28 28
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/fs, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/3d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 27.8 | 27.8 | 27.8 Mbytes
Time Step Temp Lx Ly Lz Press Pxx Pyy Pzz TotEng E_pair Enthalpy Volume Density f_melt[1] f_melt[2] f_flang 
           0        0            0      178.886       89.443       89.443    27436.839    27436.839    27436.839    27436.839   -532207.31   -532207.31   -507700.16      1431097    8.1005253    2814.3722            0           -0 
        0.01       10    15.991745      178.886       89.443       89.443    27695.723    27696.013    27695.669    27695.488   -532214.26   -532195.24   -507475.87      1431097    8.1005253    2523.3433    27.254503   -277.40163 
        0.02       20    27.409755      178.886       89.443       89.443     28249.43    28249.914    28249.413    28248.963   -532213.51   -532117.79   -506980.54      1431097    8.1005253     2263.509    24.550447   -538.58795 
        0.03       30    32.203353      178.886       89.443       89.443    29157.696    29157.935    29156.663     29158.49   -532212.81   -531963.16   -506168.55      1431097    8.1005253    2033.4281    21.950624   -769.96883 
        0.04       40    33.717688      178.886       89.443       89.443    30245.869    30246.927    30244.426    30246.254   -532212.16   -531778.87   -505195.93      1431097    8.1005253    1826.6482    19.296248   -978.07593 
        0.05       50    35.464336      178.886       89.443       89.443    31269.317    31268.876    31270.588    31268.487    -532211.6   -531622.24    -504281.2      1431097    8.1005253    1643.1883    17.621316   -1162.3733 
        0.06       60    39.197431      178.886       89.443       89.443    32109.566    32108.131    32111.911    32108.655   -532211.13   -531514.97   -503530.21      1431097    8.1005253    1477.1732    15.422816   -1329.4877 
        0.07       70    43.579999      178.886       89.443       89.443    32801.317    32797.951    32804.466    32801.536   -532210.71   -531437.25    -502911.9      1431097    8.1005253    1330.1772    13.199289   -1477.5954 
        0.08       80    46.954025      178.886       89.443       89.443    33428.809    33421.859    33431.689    33432.878   -532210.33   -531360.98   -502351.03      1431097    8.1005253    1200.2917    12.150137   -1608.0055 
        0.09       90    49.385912      178.886       89.443       89.443    33996.788    33990.872    33997.735    34001.757   -532209.97   -531283.98   -501843.34      1431097    8.1005253     1084.973    10.913319   -1723.9426 
         0.1      100    52.306837      178.886       89.443       89.443    34442.432     34438.66    34438.121    34450.514   -532209.65   -531225.35   -501444.97      1431097    8.1005253     980.2774    9.3052537   -1829.4422 
Loop time of 8.2313 on 4 procs for 100 steps with 125000 atoms

Performance: 1.050 ns/day, 22.865 hours/ns, 12.149 timesteps/s
97.7% CPU use with 4 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.1169     | 7.1522     | 7.1753     |   0.9 | 86.89
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.27642    | 0.2993     | 0.33421    |   4.3 |  3.64
Output  | 0.090791   | 0.092494   | 0.093718   |   0.3 |  1.12
Modify  | 0.66493    | 0.66564    | 0.66716    |   0.1 |  8.09
Other   |            | 0.02167    |            |       |  0.26

Nlocal:        31250.0 ave       31250 max       31250 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Nghost:        20734.0 ave       20734 max       20734 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Neighs:    1.34375e+06 ave 1.34375e+06 max 1.34375e+06 min
Histogram: 4 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5375000
Ave neighs/atom = 43.000000
Neighbor list builds = 0
Dangerous builds = 0
#velocity        all set 5 NULL NULL sum yes units box
#run 5000

#write_data      ${filename}_${starttemp}.lammps
write_restart     ${filename}_${starttemp}.restart
write_restart     block_28_14_14_${starttemp}.restart
write_restart     block_28_14_14_300.restart
write_restart   config${filename}
write_restart   configblock_28_14_14
Total wall time: 0:00:08
